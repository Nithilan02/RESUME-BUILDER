<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #69ea42 0%, #9969c8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .header-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary { background: #55eb53; color: white; }
        .btn-success { background: #48bb78; color: white; }
        .btn-danger { background: #f56565; color: white; }
        .btn-info { background: #4299e1; color: white; }
        .btn-warning { background: #ed8936; color: white; }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            height: fit-content;
        }

        .tab-btn {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            border: none;
            background: #f7fafc;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 15px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            background: #edf2f7;
        }

        .tab-btn.active {
            background: #667eea;
            color: white;
        }

        .content-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-height: 800px;
            overflow-y: auto;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .section-title {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: border 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .hint {
            font-size: 12px;
            color: #718096;
            margin-top: 5px;
        }

        .item-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            border-left: 4px solid #667eea;
        }

        .remove-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f56565;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }

        .add-section-btn {
            width: 100%;
            padding: 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
        }

        .preview-container {
            background: white;
            max-width: 900px;
            margin: 0 auto;
            padding: 60px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .preview-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .preview-header h1 {
            font-size: 36px;
            color: #1a202c;
            margin-bottom: 10px;
        }

        .preview-header .contact-info {
            color: #4a5568;
            font-size: 14px;
        }

        .preview-section {
            margin-bottom: 30px;
        }

        .preview-section h2 {
            font-size: 20px;
            color: #2d3748;
            border-bottom: 2px solid #cbd5e0;
            padding-bottom: 8px;
            margin-bottom: 15px;
        }

        .experience-item, .education-item, .project-item {
            margin-bottom: 20px;
        }

        .experience-item h3, .education-item h3, .project-item h3 {
            font-size: 18px;
            color: #2d3748;
        }

        .experience-item .meta, .education-item .meta, .project-item .meta {
            color: #718096;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .experience-item .description {
            white-space: pre-line;
            line-height: 1.6;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .skill-tag {
            background: #edf2f7;
            padding: 8px 15px;
            border-radius: 20px;
            text-align: center;
            font-size: 14px;
        }

        .template-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .template-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .template-btn.active {
            background: #667eea;
            color: white;
        }

        .hidden {
            display: none;
        }

        @media print {
            body {
                background: white;
            }
            .header, .sidebar, .btn {
                display: none !important;
            }
            .preview-container {
                box-shadow: none;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Resume Builder</h1>
            <p style="color: #718096; margin-top: 5px;">Auto-saves to browser ‚Ä¢ Build professional resumes in minutes</p>
            <div class="header-buttons">
                <button class="btn btn-warning" onclick="loadSample()">üìù Load Sample</button>
                <button class="btn btn-info" onclick="exportJSON()">üíæ Export JSON</button>
                <button class="btn btn-primary" onclick="toggleView()">üëÅÔ∏è <span id="viewBtnText">Preview</span></button>
                <button class="btn btn-success hidden" id="downloadBtn" onclick="window.print()">üì• Download PDF</button>
                <button class="btn btn-danger" onclick="clearData()">üóëÔ∏è Clear All</button>
            </div>
        </div>

        <!-- Edit View -->
        <div id="editView" class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <button class="tab-btn active" onclick="switchTab('personal')">üë§ Personal</button>
                <button class="tab-btn" onclick="switchTab('experience')">üíº Experience</button>
                <button class="tab-btn" onclick="switchTab('education')">üéì Education</button>
                <button class="tab-btn" onclick="switchTab('skills')">‚ö° Skills</button>
                <button class="tab-btn" onclick="switchTab('projects')">üöÄ Projects</button>
                <button class="tab-btn" onclick="switchTab('certifications')">üìú Certifications</button>
                <button class="tab-btn" onclick="switchTab('awards')">üèÜ Awards</button>
                <button class="tab-btn" onclick="switchTab('languages')">üåê Languages</button>
                <button class="tab-btn" onclick="switchTab('other')">‚ûï Other</button>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Personal Info -->
                <div id="personal" class="form-section active">
                    <h2 class="section-title">Personal Information</h2>
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" id="name" placeholder="John Doe">
                        <div class="hint">Use your full professional name</div>
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="email" placeholder="john.doe@example.com">
                        <div class="hint">Use a professional email address</div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Phone *</label>
                            <input type="tel" id="phone" placeholder="+1-234-567-8900">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" id="location" placeholder="City, State">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Professional Headline</label>
                        <input type="text" id="headline" placeholder="Senior Software Engineer | Full-Stack Developer">
                        <div class="hint">e.g., "Senior Full-Stack Developer" or "Data Scientist | ML Engineer"</div>
                    </div>
                    <div class="form-group">
                        <label>Professional Summary</label>
                        <textarea id="summary" placeholder="Write a 2-4 sentence pitch about yourself..."></textarea>
                        <div class="hint">Highlight your experience, key skills, and what you're passionate about</div>
                    </div>
                    <div class="grid-3">
                        <div class="form-group">
                            <label>Website</label>
                            <input type="text" id="website" placeholder="portfolio.com">
                        </div>
                        <div class="form-group">
                            <label>LinkedIn</label>
                            <input type="text" id="linkedin" placeholder="linkedin.com/in/yourname">
                        </div>
                        <div class="form-group">
                            <label>GitHub</label>
                            <input type="text" id="github" placeholder="github.com/yourname">
                        </div>
                    </div>
                </div>

                <!-- Experience -->
                <div id="experience" class="form-section">
                    <h2 class="section-title">Work Experience</h2>
                    <div style="background: #ebf8ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        üí° <strong>Tip:</strong> Start bullets with action verbs like: Led, Managed, Built, Designed, Implemented, Optimized. Include metrics when possible!
                    </div>
                    <div id="experienceList"></div>
                    <button class="add-section-btn" onclick="addExperience()">+ Add Experience</button>
                </div>

                <!-- Education -->
                <div id="education" class="form-section">
                    <h2 class="section-title">Education</h2>
                    <div id="educationList"></div>
                    <button class="add-section-btn" onclick="addEducation()">+ Add Education</button>
                </div>

                <!-- Skills -->
                <div id="skills" class="form-section">
                    <h2 class="section-title">Skills</h2>
                    <div style="background: #ebf8ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        üí° Add up to 15 key skills. Focus on relevant ones for your target role.
                    </div>
                    <div id="skillsList"></div>
                    <button class="add-section-btn" onclick="addSkill()">+ Add Skill</button>
                </div>

                <!-- Projects -->
                <div id="projects" class="form-section">
                    <h2 class="section-title">Projects</h2>
                    <div id="projectsList"></div>
                    <button class="add-section-btn" onclick="addProject()">+ Add Project</button>
                </div>

                <!-- Certifications -->
                <div id="certifications" class="form-section">
                    <h2 class="section-title">Certifications</h2>
                    <div id="certificationsList"></div>
                    <button class="add-section-btn" onclick="addCertification()">+ Add Certification</button>
                </div>

                <!-- Awards -->
                <div id="awards" class="form-section">
                    <h2 class="section-title">Awards & Honors</h2>
                    <div id="awardsList"></div>
                    <button class="add-section-btn" onclick="addAward()">+ Add Award</button>
                </div>

                <!-- Languages -->
                <div id="languages" class="form-section">
                    <h2 class="section-title">Languages</h2>
                    <div id="languagesList"></div>
                    <button class="add-section-btn" onclick="addLanguage()">+ Add Language</button>
                </div>

                <!-- Other -->
                <div id="other" class="form-section">
                    <h2 class="section-title">Additional Information</h2>
                    <div class="form-group">
                        <label>Interests & Hobbies</label>
                        <textarea id="interests" placeholder="e.g., Open source contributions, Photography, Hiking"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preview View -->
        <div id="previewView" class="hidden">
            <div class="template-selector">
                <button class="template-btn active" onclick="setTemplate('ats')">ATS-Friendly</button>
                <button class="template-btn" onclick="setTemplate('modern')">Modern</button>
            </div>
            <div class="preview-container" id="previewContent"></div>
        </div>
    </div>

    <script>
        let resumeData = {
            personal: {},
            experience: [],
            education: [],
            skills: [],
            projects: [],
            certifications: [],
            awards: [],
            languages: []
        };

        let currentView = 'edit';
        let experienceCount = 0;
        let educationCount = 0;
        let skillCount = 0;
        let projectCount = 0;
        let certificationCount = 0;
        let awardCount = 0;
        let languageCount = 0;

        // Load data on startup
        window.onload = function() {
            const saved = localStorage.getItem('resume-data');
            if (saved) {
                try {
                    resumeData = JSON.parse(saved);
                    loadData();
                } catch(e) {}
            }
        };

        // Auto-save
        function autoSave() {
            savePersonalData();
            localStorage.setItem('resume-data', JSON.stringify(resumeData));
        }

        setInterval(autoSave, 2000);

        function switchTab(tab) {
            document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
        }

        function toggleView() {
            currentView = currentView === 'edit' ? 'preview' : 'edit';
            if (currentView === 'preview') {
                savePersonalData();
                document.getElementById('editView').classList.add('hidden');
                document.getElementById('previewView').classList.remove('hidden');
                document.getElementById('viewBtnText').textContent = 'Edit';
                document.getElementById('downloadBtn').classList.remove('hidden');
                generatePreview();
            } else {
                document.getElementById('editView').classList.remove('hidden');
                document.getElementById('previewView').classList.add('hidden');
                document.getElementById('viewBtnText').textContent = 'Preview';
                document.getElementById('downloadBtn').classList.add('hidden');
            }
        }

        function savePersonalData() {
            resumeData.personal = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                headline: document.getElementById('headline').value,
                summary: document.getElementById('summary').value,
                website: document.getElementById('website').value,
                linkedin: document.getElementById('linkedin').value,
                github: document.getElementById('github').value
            };
            resumeData.interests = document.getElementById('interests').value;
        }

        function loadData() {
            // Load personal
            document.getElementById('name').value = resumeData.personal.name || '';
            document.getElementById('email').value = resumeData.personal.email || '';
            document.getElementById('phone').value = resumeData.personal.phone || '';
            document.getElementById('location').value = resumeData.personal.location || '';
            document.getElementById('headline').value = resumeData.personal.headline || '';
            document.getElementById('summary').value = resumeData.personal.summary || '';
            document.getElementById('website').value = resumeData.personal.website || '';
            document.getElementById('linkedin').value = resumeData.personal.linkedin || '';
            document.getElementById('github').value = resumeData.personal.github || '';
            document.getElementById('interests').value = resumeData.interests || '';

            // Load experience
            resumeData.experience.forEach(exp => {
                addExperience(exp);
            });

            // Load education
            resumeData.education.forEach(edu => {
                addEducation(edu);
            });

            // Load skills
            resumeData.skills.forEach(skill => {
                addSkill(skill);
            });

            // Load projects
            resumeData.projects.forEach(proj => {
                addProject(proj);
            });

            // Load certifications
            resumeData.certifications.forEach(cert => {
                addCertification(cert);
            });

            // Load awards
            resumeData.awards.forEach(award => {
                addAward(award);
            });

            // Load languages
            resumeData.languages.forEach(lang => {
                addLanguage(lang);
            });
        }

        function addExperience(data = {}) {
            const id = experienceCount++;
            const html = `
                <div class="item-card" id="exp-${id}">
                    <button class="remove-btn" onclick="removeExperience(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Job Title *</label>
                            <input type="text" data-field="title" value="${data.title || ''}">
                        </div>
                        <div class="form-group">
                            <label>Company *</label>
                            <input type="text" data-field="company" value="${data.company || ''}">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" data-field="location" value="${data.location || ''}">
                        </div>
                        <div class="form-group">
                            <label>Start - End Date</label>
                            <input type="text" data-field="dates" placeholder="Jan 2020 - Present" value="${data.dates || ''}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea data-field="description" placeholder="‚Ä¢ Built feature X using Y, resulting in Z% improvement&#10;‚Ä¢ Led team of N engineers...">${data.description || ''}</textarea>
                    </div>
                </div>
            `;
            document.getElementById('experienceList').insertAdjacentHTML('beforeend', html);
            updateExperienceData();
        }

        function removeExperience(id) {
            document.getElementById(`exp-${id}`).remove();
            updateExperienceData();
        }

        function updateExperienceData() {
            resumeData.experience = [];
            document.querySelectorAll('#experienceList .item-card').forEach(card => {
                const exp = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    exp[input.dataset.field] = input.value;
                });
                if (exp.title || exp.company) {
                    resumeData.experience.push(exp);
                }
            });
        }

        function addEducation(data = {}) {
            const id = educationCount++;
            const html = `
                <div class="item-card" id="edu-${id}">
                    <button class="remove-btn" onclick="removeEducation(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Degree *</label>
                            <input type="text" data-field="degree" value="${data.degree || ''}">
                        </div>
                        <div class="form-group">
                            <label>School *</label>
                            <input type="text" data-field="school" value="${data.school || ''}">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" data-field="location" value="${data.location || ''}">
                        </div>
                        <div class="form-group">
                            <label>Graduation Date</label>
                            <input type="text" data-field="graduationDate" placeholder="May 2020" value="${data.graduationDate || ''}">
                        </div>
                        <div class="form-group">
                            <label>GPA (optional)</label>
                            <input type="text" data-field="gpa" value="${data.gpa || ''}">
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('educationList').insertAdjacentHTML('beforeend', html);
            updateEducationData();
        }

        function removeEducation(id) {
            document.getElementById(`edu-${id}`).remove();
            updateEducationData();
        }

        function updateEducationData() {
            resumeData.education = [];
            document.querySelectorAll('#educationList .item-card').forEach(card => {
                const edu = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    edu[input.dataset.field] = input.value;
                });
                if (edu.degree || edu.school) {
                    resumeData.education.push(edu);
                }
            });
        }

        function addSkill(data = {}) {
            const id = skillCount++;
            const html = `
                <div class="item-card" id="skill-${id}">
                    <button class="remove-btn" onclick="removeSkill(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Skill Name</label>
                            <input type="text" data-field="name" value="${data.name || ''}">
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select data-field="category">
                                <option value="frontend" ${data.category === 'frontend' ? 'selected' : ''}>Frontend</option>
                                <option value="backend" ${data.category === 'backend' ? 'selected' : ''}>Backend</option>
                                <option value="data" ${data.category === 'data' ? 'selected' : ''}>Data</option>
                                <option value="devops" ${data.category === 'devops' ? 'selected' : ''}>DevOps</option>
                                <option value="tools" ${data.category === 'tools' ? 'selected' : ''}>Tools</option>
                            </select>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('skillsList').insertAdjacentHTML('beforeend', html);
            updateSkillsData();
        }

        function removeSkill(id) {
            document.getElementById(`skill-${id}`).remove();
            updateSkillsData();
        }

        function updateSkillsData() {
            resumeData.skills = [];
            document.querySelectorAll('#skillsList .item-card').forEach(card => {
                const skill = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    skill[input.dataset.field] = input.value;
                });
                if (skill.name) {
                    resumeData.skills.push(skill);
                }
            });
        }

        function addProject(data = {}) {
            const id = projectCount++;
            const html = `
                <div class="item-card" id="proj-${id}">
                    <button class="remove-btn" onclick="removeProject(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Project Title *</label>
                            <input type="text" data-field="title" value="${data.title || ''}">
                        </div>
                        <div class="form-group">
                            <label>Your Role</label>
                            <input type="text" data-field="role" value="${data.role || ''}">
                        </div>
                        <div class="form-group">
                            <label>Tech Stack</label>
                            <input type="text" data-field="techStack" placeholder="React, Node.js, MongoDB" value="${data.techStack || ''}">
                        </div>
                        <div class="form-group">
                            <label>Project URL</label>
                            <input type="text" data-field="link" value="${data.link || ''}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea data-field="description">${data.description || ''}</textarea>
                    </div>
                </div>
            `;
            document.getElementById('projectsList').insertAdjacentHTML('beforeend', html);
            updateProjectsData();
        }

        function removeProject(id) {
            document.getElementById(`proj-${id}`).remove();
            updateProjectsData();
        }

        function updateProjectsData() {
            resumeData.projects = [];
            document.querySelectorAll('#projectsList .item-card').forEach(card => {
                const proj = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    proj[input.dataset.field] = input.value;
                });
                if (proj.title) {
                    resumeData.projects.push(proj);
                }
            });
        }

        function addCertification(data = {}) {
            const id = certificationCount++;
            const html = `
                <div class="item-card" id="cert-${id}">
                    <button class="remove-btn" onclick="removeCertification(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Certification Name</label>
                            <input type="text" data-field="name" value="${data.name || ''}">
                        </div>
                        <div class="form-group">
                            <label>Issuing Organization</label>
                            <input type="text" data-field="issuer" value="${data.issuer || ''}">
                        </div>
                        <div class="form-group">
                            <label>Issue Date</label>
                            <input type="text" data-field="date" placeholder="Jan 2023" value="${data.date || ''}">
                        </div>
                        <div class="form-group">
                            <label>Credential ID</label>
                            <input type="text" data-field="credentialId" value="${data.credentialId || ''}">
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('certificationsList').insertAdjacentHTML('beforeend', html);
            updateCertificationsData();
        }

        function removeCertification(id) {
            document.getElementById(`cert-${id}`).remove();
            updateCertificationsData();
        }

        function updateCertificationsData() {
            resumeData.certifications = [];
            document.querySelectorAll('#certificationsList .item-card').forEach(card => {
                const cert = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    cert[input.dataset.field] = input.value;
                });
                if (cert.name) {
                    resumeData.certifications.push(cert);
                }
            });
        }

        function addAward(data = {}) {
            const id = awardCount++;
            const html = `
                <div class="item-card" id="award-${id}">
                    <button class="remove-btn" onclick="removeAward(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Award Title</label>
                            <input type="text" data-field="title" value="${data.title || ''}">
                        </div>
                        <div class="form-group">
                            <label>Issuing Organization</label>
                            <input type="text" data-field="issuer" value="${data.issuer || ''}">
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="text" data-field="date" placeholder="Jan 2023" value="${data.date || ''}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea data-field="description">${data.description || ''}</textarea>
                    </div>
                </div>
            `;
            document.getElementById('awardsList').insertAdjacentHTML('beforeend', html);
            updateAwardsData();
        }

        function removeAward(id) {
            document.getElementById(`award-${id}`).remove();
            updateAwardsData();
        }

        function updateAwardsData() {
            resumeData.awards = [];
            document.querySelectorAll('#awardsList .item-card').forEach(card => {
                const award = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    award[input.dataset.field] = input.value;
                });
                if (award.title) {
                    resumeData.awards.push(award);
                }
            });
        }

        function addLanguage(data = {}) {
            const id = languageCount++;
            const html = `
                <div class="item-card" id="lang-${id}">
                    <button class="remove-btn" onclick="removeLanguage(${id})">Remove</button>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Language</label>
                            <input type="text" data-field="language" value="${data.language || ''}">
                        </div>
                        <div class="form-group">
                            <label>Proficiency</label>
                            <select data-field="proficiency">
                                <option value="Native" ${data.proficiency === 'Native' ? 'selected' : ''}>Native</option>
                                <option value="Fluent" ${data.proficiency === 'Fluent' ? 'selected' : ''}>Fluent</option>
                                <option value="Professional" ${data.proficiency === 'Professional' ? 'selected' : ''}>Professional</option>
                                <option value="Intermediate" ${data.proficiency === 'Intermediate' ? 'selected' : ''}>Intermediate</option>
                                <option value="Basic" ${data.proficiency === 'Basic' ? 'selected' : ''}>Basic</option>
                            </select>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('languagesList').insertAdjacentHTML('beforeend', html);
            updateLanguagesData();
        }

        function removeLanguage(id) {
            document.getElementById(`lang-${id}`).remove();
            updateLanguagesData();
        }

        function updateLanguagesData() {
            resumeData.languages = [];
            document.querySelectorAll('#languagesList .item-card').forEach(card => {
                const lang = {};
                card.querySelectorAll('[data-field]').forEach(input => {
                    lang[input.dataset.field] = input.value;
                });
                if (lang.language) {
                    resumeData.languages.push(lang);
                }
            });
        }

        function generatePreview() {
            savePersonalData();
            updateExperienceData();
            updateEducationData();
            updateSkillsData();
            updateProjectsData();
            updateCertificationsData();
            updateAwardsData();
            updateLanguagesData();

            const p = resumeData.personal;
            let html = `
                <div class="preview-header">
                    <h1>${p.name || 'Your Name'}</h1>
                    ${p.headline ? `<p style="font-size: 18px; color: #4a5568; margin-bottom: 10px;">${p.headline}</p>` : ''}
                    <div class="contact-info">
                        ${p.email ? p.email : ''} 
                        ${p.phone ? '‚Ä¢ ' + p.phone : ''} 
                        ${p.location ? '‚Ä¢ ' + p.location : ''}
                        <br>
                        ${p.website ? p.website + ' ' : ''}
                        ${p.linkedin ? '‚Ä¢ ' + p.linkedin : ''}
                        ${p.github ? '‚Ä¢ ' + p.github : ''}
                    </div>
                </div>
            `;

            if (p.summary) {
                html += `
                    <div class="preview-section">
                        <h2>Professional Summary</h2>
                        <p style="line-height: 1.6;">${p.summary}</p>
                    </div>
                `;
            }

            if (resumeData.experience.length > 0) {
                html += '<div class="preview-section"><h2>Work Experience</h2>';
                resumeData.experience.forEach(exp => {
                    html += `
                        <div class="experience-item">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div>
                                    <h3>${exp.title || ''}</h3>
                                    <div class="meta">${exp.company || ''} ${exp.location ? '‚Ä¢ ' + exp.location : ''}</div>
                                </div>
                                <div class="meta">${exp.dates || ''}</div>
                            </div>
                            <div class="description">${exp.description || ''}</div>
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (resumeData.education.length > 0) {
                html += '<div class="preview-section"><h2>Education</h2>';
                resumeData.education.forEach(edu => {
                    html += `
                        <div class="education-item">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div>
                                    <h3>${edu.degree || ''}</h3>
                                    <div class="meta">${edu.school || ''} ${edu.location ? '‚Ä¢ ' + edu.location : ''}</div>
                                </div>
                                <div class="meta">${edu.graduationDate || ''}</div>
                            </div>
                            ${edu.gpa ? `<div class="meta">GPA: ${edu.gpa}</div>` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (resumeData.skills.length > 0) {
                html += '<div class="preview-section"><h2>Skills</h2><div class="skills-grid">';
                resumeData.skills.forEach(skill => {
                    if (skill.name) {
                        html += `<div class="skill-tag">${skill.name}</div>`;
                    }
                });
                html += '</div></div>';
            }

            if (resumeData.projects.length > 0) {
                html += '<div class="preview-section"><h2>Projects</h2>';
                resumeData.projects.forEach(proj => {
                    html += `
                        <div class="project-item">
                            <h3>${proj.title || ''} ${proj.role ? '‚Ä¢ ' + proj.role : ''}</h3>
                            ${proj.techStack ? `<div class="meta">Tech Stack: ${proj.techStack}</div>` : ''}
                            ${proj.link ? `<div class="meta"><a href="${proj.link}" target="_blank">${proj.link}</a></div>` : ''}
                            ${proj.description ? `<p style="margin-top: 8px;">${proj.description}</p>` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (resumeData.certifications.length > 0) {
                html += '<div class="preview-section"><h2>Certifications</h2>';
                resumeData.certifications.forEach(cert => {
                    html += `
                        <div style="margin-bottom: 15px;">
                            <h3 style="font-size: 16px; color: #2d3748;">${cert.name || ''}</h3>
                            <div class="meta">${cert.issuer || ''} ${cert.date ? '‚Ä¢ ' + cert.date : ''}</div>
                            ${cert.credentialId ? `<div class="meta">ID: ${cert.credentialId}</div>` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (resumeData.awards.length > 0) {
                html += '<div class="preview-section"><h2>Awards & Honors</h2>';
                resumeData.awards.forEach(award => {
                    html += `
                        <div style="margin-bottom: 15px;">
                            <h3 style="font-size: 16px; color: #2d3748;">${award.title || ''}</h3>
                            <div class="meta">${award.issuer || ''} ${award.date ? '‚Ä¢ ' + award.date : ''}</div>
                            ${award.description ? `<p style="margin-top: 5px;">${award.description}</p>` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }

            if (resumeData.languages.length > 0) {
                html += '<div class="preview-section"><h2>Languages</h2><div class="skills-grid">';
                resumeData.languages.forEach(lang => {
                    if (lang.language) {
                        html += `<div class="skill-tag">${lang.language} (${lang.proficiency})</div>`;
                    }
                });
                html += '</div></div>';
            }

            if (resumeData.interests) {
                html += `
                    <div class="preview-section">
                        <h2>Interests</h2>
                        <p>${resumeData.interests}</p>
                    </div>
                `;
            }

            document.getElementById('previewContent').innerHTML = html;
        }

        function setTemplate(template) {
            document.querySelectorAll('.template-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function exportJSON() {
            savePersonalData();
            updateExperienceData();
            updateEducationData();
            updateSkillsData();
            updateProjectsData();
            updateCertificationsData();
            updateAwardsData();
            updateLanguagesData();

            const dataStr = JSON.stringify(resumeData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'resume-data.json';
            link.click();
        }

        function clearData() {
            if (confirm('This will delete all your resume data. Are you sure?')) {
                localStorage.removeItem('resume-data');
                location.reload();
            }
        }

        function loadSample() {
            if (confirm('Load sample resume? This will replace your current data.')) {
                resumeData = {
                    personal: {
                        name: 'Rohit Kumar',
                        email: 'rohit.kumar@example.com',
                        phone: '+91-9876543210',
                        location: 'Bangalore, India',
                        headline: 'Senior Backend Engineer ‚Äî Go / Kubernetes',
                        summary: 'Backend engineer with 6 years of experience building scalable microservices and distributed systems. Specialized in cloud-native architecture and performance optimization.',
                        website: 'rohitkumar.dev',
                        linkedin: 'linkedin.com/in/rohitkumar',
                        github: 'github.com/rohitkumar'
                    },
                    experience: [
                        {
                            title: 'Senior Backend Engineer',
                            company: 'Tech Corp',
                            location: 'Bangalore',
                            dates: 'Jan 2020 - Present',
                            description: '‚Ä¢ Built microservices in Go reducing API latency by 35%\n‚Ä¢ Implemented Kubernetes autoscaling saving $50k/month in cloud costs\n‚Ä¢ Led team of 4 engineers in legacy system migration\n‚Ä¢ Designed and deployed distributed caching layer handling 100k req/s'
                        },
                        {
                            title: 'Backend Developer',
                            company: 'StartupXYZ',
                            location: 'Mumbai',
                            dates: 'Jun 2018 - Dec 2019',
                            description: '‚Ä¢ Developed RESTful APIs serving 1M+ daily active users\n‚Ä¢ Optimized database queries improving response time by 60%\n‚Ä¢ Implemented CI/CD pipeline reducing deployment time from hours to minutes'
                        }
                    ],
                    education: [
                        {
                            degree: 'B.Tech in Computer Science',
                            school: 'IIT Delhi',
                            location: 'Delhi',
                            graduationDate: 'May 2018',
                            gpa: '8.5/10'
                        }
                    ],
                    skills: [
                        { name: 'Go', category: 'backend' },
                        { name: 'Kubernetes', category: 'devops' },
                        { name: 'Docker', category: 'devops' },
                        { name: 'PostgreSQL', category: 'data' },
                        { name: 'Redis', category: 'data' },
                        { name: 'AWS', category: 'devops' },
                        { name: 'Python', category: 'backend' },
                        { name: 'Microservices', category: 'backend' }
                    ],
                    projects: [
                        {
                            title: 'High-Throughput Billing System',
                            role: 'Lead Engineer',
                            techStack: 'Go, Kafka, PostgreSQL, Redis',
                            link: '',
                            description: 'Built distributed billing system processing 100k requests/sec at peak load with 99.99% uptime. Implemented event-driven architecture using Kafka for real-time payment processing.'
                        }
                    ],
                    certifications: [
                        {
                            name: 'Certified Kubernetes Administrator (CKA)',
                            issuer: 'Cloud Native Computing Foundation',
                            date: 'Jun 2021',
                            credentialId: 'CKA-2021-001234'
                        }
                    ],
                    awards: [
                        {
                            title: 'Employee of the Year',
                            issuer: 'Tech Corp',
                            date: '2022',
                            description: 'Recognized for outstanding contribution to platform scalability and team leadership'
                        }
                    ],
                    languages: [
                        { language: 'English', proficiency: 'Fluent' },
                        { language: 'Hindi', proficiency: 'Native' }
                    ],
                    interests: 'Open source contributions, Cloud architecture, System design, Hiking'
                };
                localStorage.setItem('resume-data', JSON.stringify(resumeData));
                location.reload();
            }
        }

        // Add event listeners for auto-save
        document.addEventListener('input', function(e) {
            if (e.target.matches('input, textarea, select')) {
                autoSave();
            }
        });
    </script>
</body>
</html>